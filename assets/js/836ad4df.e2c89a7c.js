"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[53],{8453:(n,s,r)=>{r.d(s,{R:()=>l,x:()=>t});var i=r(6540);const e={},c=i.createContext(e);function l(n){const s=i.useContext(c);return i.useMemo(function(){return"function"==typeof n?n(s):{...s,...n}},[s,n])}function t(n){let s;return s=n.disableParentContext?"function"==typeof n.components?n.components(e):n.components||e:l(n.components),i.createElement(c.Provider,{value:s},n.children)}},9968:(n,s,r)=>{r.r(s),r.d(s,{assets:()=>d,contentTitle:()=>t,default:()=>g,frontMatter:()=>l,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"RISC-V ISA/Simple_RV32I_CPU","title":"Simple_RV32I_CPU","description":"Brief","source":"@site/docs/RISC-V ISA/Simple_RV32I_CPU.md","sourceDirName":"RISC-V ISA","slug":"/RISC-V ISA/Simple_RV32I_CPU","permalink":"/docs/RISC-V ISA/Simple_RV32I_CPU","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/RISC-V ISA/Simple_RV32I_CPU.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Cache","permalink":"/docs/RISC-V ISA/Cache"}}');var e=r(4848),c=r(8453);const l={},t=void 0,d={},h=[{value:"Brief",id:"brief",level:2},{value:"\u67b6\u69cb\u5716",id:"\u67b6\u69cb\u5716",level:2},{value:"Code",id:"code",level:2},{value:"\u5404IC\u8207\u5c0d\u61c9\u5716",id:"\u5404ic\u8207\u5c0d\u61c9\u5716",level:2},{value:"PC",id:"pc",level:3},{value:"Instruction Cache",id:"instruction-cache",level:3},{value:"IF_ID buffer",id:"if_id-buffer",level:3},{value:"Decoder",id:"decoder",level:3},{value:"Control Unit (In the same file with deocder)",id:"control-unit-in-the-same-file-with-deocder",level:3},{value:"Branch Unit",id:"branch-unit",level:3},{value:"Register File",id:"register-file",level:3},{value:"DEC_ALU buffer",id:"dec_alu-buffer",level:3},{value:"ALU",id:"alu",level:3},{value:"ALU_MEM",id:"alu_mem",level:3},{value:"Data Cache",id:"data-cache",level:3},{value:"MEM_WB buffer",id:"mem_wb-buffer",level:3},{value:"Hazard detect Unit",id:"hazard-detect-unit",level:3},{value:"Lock Unit",id:"lock-unit",level:4},{value:"Forwarding Unit (stage 3)",id:"forwarding-unit-stage-3",level:4},{value:"Forwarding Unit (stage 2)",id:"forwarding-unit-stage-2",level:4},{value:"\u76ee\u524d\u652f\u63f4\u7684\u6307\u4ee4",id:"\u76ee\u524d\u652f\u63f4\u7684\u6307\u4ee4",level:2},{value:"R_Type_Store Word",id:"r_type_store-word",level:3},{value:"I_Type_Load Word",id:"i_type_load-word",level:3},{value:"R_Type_Branch (condition branch)",id:"r_type_branch-condition-branch",level:3},{value:"J_Type_Jump (unCondition branch)",id:"j_type_jump-uncondition-branch",level:3},{value:"I_Type_Computation",id:"i_type_computation",level:3},{value:"R_Type_Computation",id:"r_type_computation",level:3},{value:"\u6e2c\u8a66 (\u76f4\u63a5\u900f\u904everilog\u4e2d\u63d0\u4f9b\u7684function\u5c07\u4e8c\u9032\u4f4d\u6a94\u6848\u8b80\u5165)",id:"\u6e2c\u8a66-\u76f4\u63a5\u900f\u904everilog\u4e2d\u63d0\u4f9b\u7684function\u5c07\u4e8c\u9032\u4f4d\u6a94\u6848\u8b80\u5165",level:2},{value:"SW &amp; LW",id:"sw--lw",level:3},{value:"ADD &amp; SUB &amp; XOR &amp; OR &amp; AND",id:"add--sub--xor--or--and",level:3},{value:"ADDI &amp; SLTIU(SLTU) &amp; ORI &amp; SLTI*(SLT) &amp; XORI &amp; ANDI",id:"addi--sltiusltu--ori--sltislt--xori--andi",level:3},{value:"BEQ &amp; BNE &amp; SLLI(SLL) &amp; SRLI(SRL)",id:"beq--bne--sllisll--srlisrl",level:3},{value:"LW &amp; ADD",id:"lw--add",level:3},{value:"LW &amp; Branch",id:"lw--branch",level:3},{value:"BLT &amp; BGE &amp; BLTU &amp; BGEU &amp; SRAI &amp; SRA &amp; JAL",id:"blt--bge--bltu--bgeu--srai--sra--jal",level:3},{value:"\u81ea\u52d5\u5316\u6e2c\u8a66 (using risc-v toolchain &amp; makefile)",id:"\u81ea\u52d5\u5316\u6e2c\u8a66-using-risc-v-toolchain--makefile",level:2}];function j(n){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...n.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(s.h2,{id:"brief",children:"Brief"}),"\n",(0,e.jsxs)(s.p,{children:["\u4f7f\u7528 Verilog \u642d\u914d ",(0,e.jsx)(s.a,{href:"https://steveicarus.github.io/iverilog/",children:"Icarus Verilog"})," Compiler \u5be6\u4f5c RV32I Five pipeline CPU\u3002"]}),"\n",(0,e.jsx)(s.h2,{id:"\u67b6\u69cb\u5716",children:"\u67b6\u69cb\u5716"}),"\n",(0,e.jsx)(s.p,{children:"\u9019\u908a\u4f7f\u7528 5 stage\u7684\u67b6\u69cb\u5be6\u73fe\u3002 (\u61c9\u8a72\u628abranch\u7559\u5230\u7b2c\u4e09\u500bstage)"}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/UByyoes.jpg",alt:""})}),"\n",(0,e.jsx)(s.h2,{id:"code",children:"Code"}),"\n",(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.strong,{children:"My github:"})," ",(0,e.jsx)(s.a,{href:"https://github.com/Falcons0214/risc-v-implement",children:(0,e.jsx)(s.strong,{children:"click here"})})]}),"\n",(0,e.jsx)(s.h2,{id:"\u5404ic\u8207\u5c0d\u61c9\u5716",children:"\u5404IC\u8207\u5c0d\u61c9\u5716"}),"\n",(0,e.jsx)(s.h3,{id:"pc",children:"PC"}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/sBJUvR4.jpg",alt:""})}),"\n",(0,e.jsx)(s.h3,{id:"instruction-cache",children:"Instruction Cache"}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/FWc7x1b.jpg",alt:""})}),"\n",(0,e.jsx)(s.h3,{id:"if_id-buffer",children:"IF_ID buffer"}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/45cDm1s.jpg",alt:""})}),"\n",(0,e.jsx)(s.h3,{id:"decoder",children:"Decoder"}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/IdcoZ4F.jpg",alt:""})}),"\n",(0,e.jsx)(s.h3,{id:"control-unit-in-the-same-file-with-deocder",children:"Control Unit (In the same file with deocder)"}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/dxuXmjb.jpg",alt:""})}),"\n",(0,e.jsx)(s.h3,{id:"branch-unit",children:"Branch Unit"}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/ihmgcdD.jpg",alt:""})}),"\n",(0,e.jsx)(s.h3,{id:"register-file",children:"Register File"}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/q9S7tZx.jpg",alt:""})}),"\n",(0,e.jsx)(s.h3,{id:"dec_alu-buffer",children:"DEC_ALU buffer"}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/HHOfhGg.jpg",alt:""})}),"\n",(0,e.jsx)(s.h3,{id:"alu",children:"ALU"}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/XJSh45k.jpg",alt:""})}),"\n",(0,e.jsx)(s.h3,{id:"alu_mem",children:"ALU_MEM"}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/aBYrAEQ.jpg",alt:""})}),"\n",(0,e.jsx)(s.h3,{id:"data-cache",children:"Data Cache"}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/qBn3t9J.jpg",alt:""})}),"\n",(0,e.jsx)(s.h3,{id:"mem_wb-buffer",children:"MEM_WB buffer"}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/hkFp40H.jpg",alt:""})}),"\n",(0,e.jsx)(s.h3,{id:"hazard-detect-unit",children:"Hazard detect Unit"}),"\n",(0,e.jsx)(s.h4,{id:"lock-unit",children:"Lock Unit"}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/UxT1ztl.jpg",alt:""})}),"\n",(0,e.jsx)(s.h4,{id:"forwarding-unit-stage-3",children:"Forwarding Unit (stage 3)"}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/vy6azNT.jpg",alt:""})}),"\n",(0,e.jsx)(s.h4,{id:"forwarding-unit-stage-2",children:"Forwarding Unit (stage 2)"}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/xWjSZET.jpg",alt:""})}),"\n",(0,e.jsx)(s.h1,{id:"\u6307\u4ee4\u6e2c\u8a66",children:"\u6307\u4ee4\u6e2c\u8a66"}),"\n",(0,e.jsxs)(s.p,{children:["\u9019\u908a\u6c92\u6709\u7279\u5225\u8655\u7406",(0,e.jsx)(s.strong,{children:"control hazard"}),"\u7684\u554f\u984c\u4e00\u7387\u63a1\u7528",(0,e.jsx)(s.strong,{children:"stall"}),"\uff0c",(0,e.jsx)(s.strong,{children:"BHT (Branch history table)"})," \u6c92\u6642\u9593\u505a\u3002"]}),"\n",(0,e.jsx)(s.h2,{id:"\u76ee\u524d\u652f\u63f4\u7684\u6307\u4ee4",children:"\u76ee\u524d\u652f\u63f4\u7684\u6307\u4ee4"}),"\n",(0,e.jsx)(s.h3,{id:"r_type_store-word",children:"R_Type_Store Word"}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/obgQdkR.jpg",alt:""})}),"\n",(0,e.jsx)(s.h3,{id:"i_type_load-word",children:"I_Type_Load Word"}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/KnT4OBp.jpg",alt:""})}),"\n",(0,e.jsx)(s.h3,{id:"r_type_branch-condition-branch",children:"R_Type_Branch (condition branch)"}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/BhEqzA4.jpg",alt:""})}),"\n",(0,e.jsx)(s.h3,{id:"j_type_jump-uncondition-branch",children:"J_Type_Jump (unCondition branch)"}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/UVaJSc2.jpg",alt:""})}),"\n",(0,e.jsx)(s.h3,{id:"i_type_computation",children:"I_Type_Computation"}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/KivMBN2.jpg",alt:""})}),"\n",(0,e.jsx)(s.h3,{id:"r_type_computation",children:"R_Type_Computation"}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/oQZVJVm.jpg",alt:""})}),"\n",(0,e.jsx)(s.h2,{id:"\u6e2c\u8a66-\u76f4\u63a5\u900f\u904everilog\u4e2d\u63d0\u4f9b\u7684function\u5c07\u4e8c\u9032\u4f4d\u6a94\u6848\u8b80\u5165",children:"\u6e2c\u8a66 (\u76f4\u63a5\u900f\u904everilog\u4e2d\u63d0\u4f9b\u7684function\u5c07\u4e8c\u9032\u4f4d\u6a94\u6848\u8b80\u5165)"}),"\n",(0,e.jsx)(s.pre,{children:(0,e.jsx)(s.code,{className:"language-verilog=",children:'$readmemb("./data3", ram1.ram);\n$readmemb("./data2", regF1.regs);\n$readmemb("./data", rom1.rom);\n'})}),"\n",(0,e.jsx)(s.p,{children:"data\u70bainstruction cache\u4e2d\u7684\u6e2c\u8a66\u8cc7\u6599\u5df2\u4e8c\u9032\u4f4d\u683c\u5f0f\u8b80\u5165\u3002\ndata2\u70baregister file\u4e2d\u7684\u6e2c\u8a66\u8cc7\u6599\u5df2\u4e8c\u9032\u4f4d\u683c\u5f0f\u8b80\u5165\u3002\ndata3\u70badata cache\u4e2d\u7684\u6e2c\u8a66\u8cc7\u6599\u5df2\u4e8c\u9032\u4f4d\u683c\u5f0f\u8b80\u5165\u3002"}),"\n",(0,e.jsxs)(s.p,{children:["\u4ee5\u4e0b\u6307\u4ee4\u6e2c\u8a66\uff0c\u5747\u7531\u4e0a\u8ff0\u6a94\u6848\u8b80\u5165\u6307\u4ee4\u5f8c\u9032\u884c\u904b\u7b97\uff0c\u4e26\u900f\u904everilog\u4e2d\u63d0\u4f9b\u7684 ",(0,e.jsx)(s.strong,{children:"$moniter"}),"\u5c07\u7d93\u904e\u904b\u7b97\u5f8c\u7684\u5132\u5b58\u55ae\u5143\u5217\u5370\u5728\u7d42\u7aef\u4e2d\u89c0\u5bdf\u3002"]}),"\n",(0,e.jsx)(s.hr,{}),"\n",(0,e.jsx)(s.h3,{id:"sw--lw",children:"SW & LW"}),"\n",(0,e.jsx)(s.p,{children:"\u9019\u908a\u5c07SW\u4ee5\u53caLW\u5408\u4f75\u518d\u4e00\u8d77\u6e2c\u8a66\u3002"}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.strong,{children:"Instruction cache\u4e2d\u7684\u6307\u4ee4"})}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/VeaJjao.jpg",alt:""})}),"\n",(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.strong,{children:"Register file\u4e2d\u7684\u8cc7\u6599 (\u9019\u908a\u768417\u884c\u662f16\uff0c\u56e0\u70ba\u8981\u5f9e0\u958b\u59cb)"}),"\n",(0,e.jsx)(s.img,{src:"https://i.imgur.com/vPoOPRx.jpg",alt:""})]}),"\n",(0,e.jsxs)(s.ul,{children:["\n",(0,e.jsxs)(s.li,{children:["\n",(0,e.jsxs)(s.p,{children:["\u7b2c\u4e00\u884c\u70ba",(0,e.jsx)(s.strong,{children:"LW"}),"\uff0c\u5c07\u8cc7\u6599\u5f9edata cache\u7684\u7b2c\u5341\u516d\u500b\u4f4d\u7f6e\u8b80\u51fa\uff0c\u8b80\u51fa\u5f8c\u5c07\u5176\u653e\u5165register file\u4e2d\u7684\u7b2c19\u500b\u4f4d\u7f6e\u3002"]}),"\n"]}),"\n",(0,e.jsxs)(s.li,{children:["\n",(0,e.jsxs)(s.p,{children:["\u7b2c\u4e8c\u884c\u70ba",(0,e.jsx)(s.strong,{children:"SW"}),"\uff0c\u5c07\u8cc7\u6599\u5f9eregister file\u4e2d\u7684\u7b2c19\u500b\u4f4d\u7f6e\u53d6\u51fa\uff0c\u53d6\u51fa\u5f8c\u642c\u904b\u81f3data cache\u4e2d\u7684\u7b2c0\u500b\u4f4d\u7f6e\u3002"]}),"\n"]}),"\n"]}),"\n",(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.strong,{children:"\u4e0b\u5716\u70badata cache\u66f4\u6539\u524d\u7684\u503c"}),"\n",(0,e.jsx)(s.img,{src:"https://i.imgur.com/T0aMEim.jpg",alt:""})]}),"\n",(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.strong,{children:"\u4e0b\u5716\u70ba\u66f4\u6539\u5f8c"}),"\n",(0,e.jsx)(s.img,{src:"https://i.imgur.com/DULWM8l.jpg",alt:""})]}),"\n",(0,e.jsxs)(s.p,{children:["\u6703\u5c07SW & LW\u653e\u5728\u4e00\u8d77\u6e2c\u8a66\uff0c\u662f\u70ba\u4e86\u9806\u4fbf\u6e2c\u8a66 SW\u4ee5\u53caLW\u4e2d\u7522\u751f\u7684",(0,e.jsx)(s.strong,{children:"data hazard"}),"\uff0c\u539f\u672c\u5728\u5148\u57f7\u884cLW\u5f8c\u63a5\u8457\u57f7\u884cSW\u6703\u767c\u751f",(0,e.jsx)(s.strong,{children:"data hazard"}),"\uff0c\u56e0\u70baSW\u7684\u8cc7\u6599\u6703\u662f",(0,e.jsx)(s.strong,{children:"\u820a"}),"\u7684\u8cc7\u6599\uff0c\u6240\u4ee5\u6211",(0,e.jsx)(s.strong,{children:"\u5728lock unit\u4e2d\u53bb\u6aa2\u67e5\u4e0d\u540cstage\u7684opcode"}),"\uff0c\u53ea\u8981\u767c\u751f\u5148LW\u5f8cSW\u7684\u60c5\u6cc1\u5c31\u7522\u751f\u5c0d\u61c9\u7684\u63a7\u5236\u8a0a\u865f\u7dda\uff0c\u518d\u5f9eMEM_WB\u5c07\u8981\u5beb\u56deregister file\u4e2d\u7684data\u63a5\u56dedata cache\uff0c\u900f\u904elock unit\u7522\u751f\u7684\u63a7\u5236\u8a0a\u865f\u4f86\u9078\u64c7\u8981\u5beb\u5165\u7684\u503c\u3002"]}),"\n",(0,e.jsx)(s.hr,{}),"\n",(0,e.jsx)(s.h3,{id:"add--sub--xor--or--and",children:"ADD & SUB & XOR & OR & AND"}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.strong,{children:"Instruction cache\u4e2d\u7684\u6307\u4ee4"})}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/VJh5xVq.jpg",alt:""})}),"\n",(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.strong,{children:"Register file\u4e2d\u7684\u8cc7\u6599 (\u9019\u908a\u768416\u884c\u662f15\uff0c\u56e0\u70ba\u8981\u5f9e0\u958b\u59cb)"}),"\n",(0,e.jsx)(s.img,{src:"https://i.imgur.com/MnXbvzS.jpg",alt:""})]}),"\n",(0,e.jsxs)(s.ul,{children:["\n",(0,e.jsxs)(s.li,{children:["\n",(0,e.jsxs)(s.p,{children:["\u7b2c\u4e00\u884c\u70baADD\uff0c\u5c07\u5169\u7b46\u6578\u503c",(0,e.jsx)(s.strong,{children:"reg[10000]"})," \u4ee5\u53ca",(0,e.jsx)(s.strong,{children:"reg[10001]"})," \u76f8\u52a0\u5f8c\u5b58\u5165",(0,e.jsx)(s.strong,{children:"reg[01111]"}),"\u3002"]}),"\n"]}),"\n",(0,e.jsxs)(s.li,{children:["\n",(0,e.jsxs)(s.p,{children:["\u7b2c\u4e8c\u884c\u70baSUB\uff0c\u5c07\u5169\u7b46\u6578\u503c",(0,e.jsx)(s.strong,{children:"reg[10001]"})," \u4ee5\u53ca",(0,e.jsx)(s.strong,{children:"reg[01111]"})," \u76f8\u52a0\u5f8c\u5b58\u5165",(0,e.jsx)(s.strong,{children:"reg[01111]"}),"\u3002"]}),"\n"]}),"\n",(0,e.jsxs)(s.li,{children:["\n",(0,e.jsxs)(s.p,{children:["\u7b2c\u4e09\u884c\u70baXOR\uff0c\u5c07\u5169\u7b46\u6578\u503c",(0,e.jsx)(s.strong,{children:"reg[01111]"})," \u4ee5\u53ca",(0,e.jsx)(s.strong,{children:"reg[01111]"})," \u505a\u4e92\u65a5\u6216\u5f8c\u5b58\u5165",(0,e.jsx)(s.strong,{children:"reg[01111]"}),"\u3002"]}),"\n"]}),"\n",(0,e.jsxs)(s.li,{children:["\n",(0,e.jsxs)(s.p,{children:["\u7b2c\u56db\u884c\u70baOR\uff0c\u5c07\u5169\u7b46\u6578\u503c",(0,e.jsx)(s.strong,{children:"reg[10000]"})," \u4ee5\u53ca",(0,e.jsx)(s.strong,{children:"reg[10001]"})," \u505a\u6216\u5f8c\u5b58\u5165",(0,e.jsx)(s.strong,{children:"reg[01111]"}),"\u3002"]}),"\n"]}),"\n",(0,e.jsxs)(s.li,{children:["\n",(0,e.jsxs)(s.p,{children:["\u7b2c\u4e94\u884c\u70baAND\uff0c\u5c07\u5169\u7b46\u6578\u503c",(0,e.jsx)(s.strong,{children:"reg[01111]"})," \u4ee5\u53ca",(0,e.jsx)(s.strong,{children:"reg[10110]"})," \u505aAND\u5b58\u5165",(0,e.jsx)(s.strong,{children:"reg[01111]"}),"\u3002"]}),"\n"]}),"\n"]}),"\n",(0,e.jsxs)(s.p,{children:["\u5728reg[01111]\u4e2d\u7684\u503c\u4f9d\u5e8f\u70ba",(0,e.jsx)(s.strong,{children:"32'b00"})," -> ",(0,e.jsx)(s.strong,{children:"32'b11"})," -> ",(0,e.jsx)(s.strong,{children:"32'b01"})," -> ",(0,e.jsx)(s.strong,{children:"32'b00"})," -> ",(0,e.jsx)(s.strong,{children:"32'b11"})," -> ",(0,e.jsx)(s.strong,{children:"32'b11"})]}),"\n",(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.strong,{children:"\u4e00\u958b\u59cb\u7684\u503c"}),"\n",(0,e.jsx)(s.img,{src:"https://i.imgur.com/ArIwIxU.jpg",alt:""})]}),"\n",(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.strong,{children:"ADD"}),"\n",(0,e.jsx)(s.img,{src:"https://i.imgur.com/XTtFn9v.jpg",alt:""})]}),"\n",(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.strong,{children:"SUB"}),"\n",(0,e.jsx)(s.img,{src:"https://i.imgur.com/aysqCCE.jpg",alt:""})]}),"\n",(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.strong,{children:"XOR"}),"\n",(0,e.jsx)(s.img,{src:"https://i.imgur.com/tN8ljC3.jpg",alt:""})]}),"\n",(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.strong,{children:"OR"}),"\n",(0,e.jsx)(s.img,{src:"https://i.imgur.com/y2xhxXP.jpg",alt:""})]}),"\n",(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.strong,{children:"AND"}),"\n",(0,e.jsx)(s.img,{src:"https://i.imgur.com/pyz1xmH.jpg",alt:""})]}),"\n",(0,e.jsxs)(s.p,{children:["\u9019\u908a\u4e5f\u9806\u5e36\u6e2c\u8a66\u4e86",(0,e.jsx)(s.strong,{children:"Forwarding Unit"}),"\u662f\u5426\u80fd\u6b63\u5e38\u904b\u4f5c\uff0c\u53bb\u8655\u7406data hazard\u7684\u554f\u984c\uff0c\u56e0\u70ba\u7b2c\u4e00\u500b\u6307\u4ee4\u6703\u5c07\u7d50\u679c\u5beb\u9032",(0,e.jsx)(s.strong,{children:"reg[01111]"}),"\uff0c\u4f46\u662f\u8981\u5230\u7b2c\u4e94\u500bstage\u624d\u6703\u5beb\u56de\uff0c\u6240\u4ee5\u5982\u679c\u9019\u908a\u6c92\u6709",(0,e.jsx)(s.strong,{children:"Forwarding Unit"}),"\u7684\u8a71\u53e6\u4e00\u500b\u8655\u7f6e\u65b9\u5f0f\u5c31\u662f",(0,e.jsx)(s.strong,{children:"lock\u8457buffer"}),"\u7b49\u5f85\u8cc7\u6599\u5beb\u56de\uff0c\u4f46\u9019\u6a23\u592a\u6c92\u6548\u7387\uff0c\u6240\u4ee5\u900f\u904e",(0,e.jsx)(s.strong,{children:"Forwarding Unit"}),"\u8b93\u6307\u4ee4\u80fd\u4e0d\u9700\u8981\u7b49\u5f85\u3002"]}),"\n",(0,e.jsxs)(s.p,{children:["\u9019\u908a\u7684",(0,e.jsx)(s.strong,{children:"Forwarding Unit"}),"\u6bd4\u5c0d\u7684\u5169\u500b\u4f4d\u5740\u5206\u5225\u662f",(0,e.jsx)(s.strong,{children:"ALU_MEM"})," & ",(0,e.jsx)(s.strong,{children:"MEM_WB"}),"\u5f8c\u7684",(0,e.jsx)(s.strong,{children:"write back addr"}),"\u5982\u679c\u8ddf\u904b\u7b97\u4f7f\u7528\u5230\u7684\u4f4d\u5740\u76f8\u540c\uff0c\u6703\u5148\u4ee5",(0,e.jsx)(s.strong,{children:"ALU_MEM stage"}),"\u7684\u4f4d\u5740\u9078\u64c7\u518d\u4f86\u624d\u662f",(0,e.jsx)(s.strong,{children:"MEM_WB stage"}),"\uff0c\u56e0\u70ba\u5728pipline\u4e2d\u8d8a\u9760\u524d\u7684stage\u8868\u793a\u8d8a\u65b0\u7684\u72c0\u614b\u3002"]}),"\n",(0,e.jsx)(s.hr,{}),"\n",(0,e.jsx)(s.h3,{id:"addi--sltiusltu--ori--sltislt--xori--andi",children:"ADDI & SLTIU(SLTU) & ORI & SLTI*(SLT) & XORI & ANDI"}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.strong,{children:"Instruction cache\u4e2d\u7684\u6307\u4ee4"})}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/TixAs8W.jpg",alt:""})}),"\n",(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.strong,{children:"Register file\u4e2d\u7684\u8cc7\u6599 (\u9019\u908a\u768412\u884c\u662f11\uff0c\u56e0\u70ba\u8981\u5f9e0\u958b\u59cb)"}),"\n",(0,e.jsx)(s.img,{src:"https://i.imgur.com/VWsdudw.jpg",alt:""})]}),"\n",(0,e.jsxs)(s.ul,{children:["\n",(0,e.jsxs)(s.li,{children:["\n",(0,e.jsxs)(s.p,{children:["\u7b2c\u4e00\u884c\u70baADDI\uff0c\u5c07",(0,e.jsx)(s.strong,{children:"\u7acb\u5373\u503c(000000111110)"})," \u8207",(0,e.jsx)(s.strong,{children:"reg[01011]"})," \u76f8\u52a0\u5f8c\u653e\u5165",(0,e.jsx)(s.strong,{children:"reg[01100]"}),"\u3002"]}),"\n"]}),"\n",(0,e.jsxs)(s.li,{children:["\n",(0,e.jsxs)(s.p,{children:["\u7b2c\u4e8c\u884c\u70baSLTIU ",(0,e.jsx)(s.strong,{children:"(\u7121\u865f)"}),"\uff0c\u6bd4\u5c0d",(0,e.jsx)(s.strong,{children:"reg[01100]"})," \u662f\u5426\u5c0f\u65bc",(0,e.jsx)(s.strong,{children:"\u7acb\u5373\u503c(000100000000)"}),"\uff0c\u5982\u679c\u5c0f\u65bc\u5247\u5c07",(0,e.jsx)(s.strong,{children:"reg[01100]"})," \u8a2d\u7f6e\u70ba32'b1\u5426\u5247\u4e0d\u505a\u4efb\u4f55\u4e8b\u3002"]}),"\n"]}),"\n",(0,e.jsxs)(s.li,{children:["\n",(0,e.jsxs)(s.p,{children:["\u7b2c\u4e09\u884c\u70baORI\uff0c\u5c07",(0,e.jsx)(s.strong,{children:"reg[01100]"})," \u8207",(0,e.jsx)(s.strong,{children:"\u7acb\u5373\u503c(100000000010)"})," \u505a",(0,e.jsx)(s.strong,{children:"OR"}),"\u5f8c\u653e\u5165",(0,e.jsx)(s.strong,{children:"reg[01100]"}),"\u3002"]}),"\n"]}),"\n",(0,e.jsxs)(s.li,{children:["\n",(0,e.jsxs)(s.p,{children:["\u7b2c\u56db\u884c\u70baSLTI ",(0,e.jsx)(s.strong,{children:"(\u6709\u865f)"}),"\uff0c\u6bd4\u5c0d",(0,e.jsx)(s.strong,{children:"reg[01100]"})," \u662f\u5426\u5c0f\u65bc",(0,e.jsx)(s.strong,{children:"\u7acb\u5373\u503c(100000000001)"}),"\uff0c\u5982\u679c\u5c0f\u65bc\u5247\u5c07",(0,e.jsx)(s.strong,{children:"reg[01100]"})," \u8a2d\u7f6e\u70ba32'b1\u5426\u5247\u4e0d\u505a\u4efb\u4f55\u4e8b\u3002"]}),"\n"]}),"\n",(0,e.jsxs)(s.li,{children:["\n",(0,e.jsxs)(s.p,{children:["\u7b2c\u4e94\u884c\u70baXORI\uff0c\u5c07",(0,e.jsx)(s.strong,{children:"reg[01100]"})," \u8207",(0,e.jsx)(s.strong,{children:"\u7acb\u5373\u503c(000000001110)"})," \u505a",(0,e.jsx)(s.strong,{children:"XOR"}),"\u5f8c\u653e\u5165",(0,e.jsx)(s.strong,{children:"reg[01100]"}),"\u3002"]}),"\n"]}),"\n",(0,e.jsxs)(s.li,{children:["\n",(0,e.jsxs)(s.p,{children:["\u7b2c\u516d\u884c\u70baANDI\uff0c\u5c07",(0,e.jsx)(s.strong,{children:"reg[01100]"})," \u8207",(0,e.jsx)(s.strong,{children:"\u7acb\u5373\u503c(000000111100)"})," \u505a",(0,e.jsx)(s.strong,{children:"AND"}),"\u5f8c\u653e\u5165",(0,e.jsx)(s.strong,{children:"reg[01100]"}),"\u3002"]}),"\n"]}),"\n"]}),"\n",(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.strong,{children:"\u521d\u59cb\u503c"}),"\n",(0,e.jsx)(s.img,{src:"https://i.imgur.com/JcyrEJ6.jpg",alt:""})]}),"\n",(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.strong,{children:"ADDI"}),"\n",(0,e.jsx)(s.img,{src:"https://i.imgur.com/4rglSs5.jpg",alt:""})]}),"\n",(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.strong,{children:"SLTIU"}),"\n",(0,e.jsx)(s.img,{src:"https://i.imgur.com/PulStFN.jpg",alt:""})]}),"\n",(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.strong,{children:"ORI"}),"\n",(0,e.jsx)(s.img,{src:"https://i.imgur.com/ocLPqcX.jpg",alt:""})]}),"\n",(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.strong,{children:"SLTI"}),"\n",(0,e.jsx)(s.img,{src:"https://i.imgur.com/B2drZe5.jpg",alt:""})]}),"\n",(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.strong,{children:"XORI"}),"\n",(0,e.jsx)(s.img,{src:"https://i.imgur.com/XGZ4moO.jpg",alt:""})]}),"\n",(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.strong,{children:"ANDI"}),"\n",(0,e.jsx)(s.img,{src:"https://i.imgur.com/cJ8DM5m.jpg",alt:""})]}),"\n",(0,e.jsxs)(s.p,{children:["\u9019\u88e1\u7684\u516d\u7a2e\u6307\u4ee4\u90fd\u5c0d\u55ae\u4e00\u66ab\u5b58\u5668\u55ae\u5143\u9032\u884c\u904b\u7b97\uff0c\u4e5f\u9806\u5e36\u6e2c\u8a66",(0,e.jsx)(s.strong,{children:"Forwarding Unit"}),"\u662f\u5426\u6b63\u5e38\u904b\u4f5c\u3002"]}),"\n",(0,e.jsxs)(s.p,{children:["\u56e0\u70ba",(0,e.jsx)(s.strong,{children:"ALU"}),"\u904b\u7b97\u55ae\u5143\u5167\u53ea\u6709\u55ae\u7d14\u7684",(0,e.jsx)(s.strong,{children:"dataSource1"}),"\u8207",(0,e.jsx)(s.strong,{children:"dataSource2"}),"\uff0c\u900f\u904e",(0,e.jsxs)(s.strong,{children:["ALUop[4]",(0,e.jsx)(s.strong,{children:"\u4f86\u6c7a\u5b9a\u9032\u5165"}),"dataSource2"]}),"\u7684\u8cc7\u6599\u662f",(0,e.jsx)(s.strong,{children:"rs2"}),"\u9084\u662f",(0,e.jsx)(s.strong,{children:"\u7acb\u5373\u503c"}),"\uff0c\u6240\u4ee5\u76f8\u540c\u6a21\u5f0f\u7684\u6307\u4ee4\uff0c\u4f8b\u5982",(0,e.jsx)(s.strong,{children:"ADD"}),"\u8207",(0,e.jsx)(s.strong,{children:"ADDI"}),"\uff0c\u53ea\u8981\u67d0\u4e00\u500b\u6e2c\u8a66\u901a\u904e\u53e6\u4e00\u500b\u4e5f\u80fd\u4fdd\u8b49\u9806\u5229\u57f7\u884c\u3002"]}),"\n",(0,e.jsx)(s.hr,{}),"\n",(0,e.jsx)(s.h3,{id:"beq--bne--sllisll--srlisrl",children:"BEQ & BNE & SLLI(SLL) & SRLI(SRL)"}),"\n",(0,e.jsx)(s.p,{children:"\u554f\u984c!! verilog === and s1 ^ s2"}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.strong,{children:"Instruction cache\u4e2d\u7684\u6307\u4ee4"})}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/lZnVMrI.jpg",alt:""})}),"\n",(0,e.jsxs)(s.ul,{children:["\n",(0,e.jsxs)(s.li,{children:["\u7b2c\u4e00\u884c\u70ba",(0,e.jsx)(s.strong,{children:"SLLI"}),"\uff0c\u5c07",(0,e.jsxs)(s.strong,{children:["reg[10101] (22)",(0,e.jsx)(s.strong,{children:"\u5de6\u79fb4bits\u5f8c\uff0c\u5b58\u5165"}),"reg[11000] (25)"]}),"\u3002"]}),"\n",(0,e.jsxs)(s.li,{children:["\u7b2c\u4e8c\u884c\u70ba",(0,e.jsx)(s.strong,{children:"SRLI"}),"\uff0c\u5c07",(0,e.jsxs)(s.strong,{children:["reg[10111] (24)",(0,e.jsx)(s.strong,{children:"\u53f3\u79fb4bits\u5f8c\uff0c\u5b58\u5165"}),"reg[11001] (26)"]}),"\u3002"]}),"\n",(0,e.jsxs)(s.li,{children:["\u7b2c\u4e09\u884c\u70ba",(0,e.jsx)(s.strong,{children:"BEQ"}),"\uff0c\u6bd4\u5c0d",(0,e.jsxs)(s.strong,{children:["reg[11001]",(0,e.jsx)(s.strong,{children:"\u8207"}),"reg[11000]",(0,e.jsx)(s.strong,{children:"\u662f\u5426\u76f8\u7b49\uff0c\u5982\u679c\u76f8\u7b49\u5247"}),"PC += 4+imm(000000001110 * 2)"]}),"\uff0c\u5426\u5247",(0,e.jsx)(s.strong,{children:"PC += 4"}),"\uff0c\u4e5f\u5c31\u662f\u5982\u679c\u76f8\u7b49\u6703\u7e7c\u7e8c\u5f9e\u7b2c\u56db\u884c\u6307\u4ee4\u57f7\u884c\u4e0b\u53bb\uff0c\u4e0d\u76f8\u7b49\u5247\u8df3\u81f3\u7b2c\u5341\u884c\u6307\u4ee4\u3002"]}),"\n"]}),"\n",(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.strong,{children:"Register file\u4e2d\u7684\u8cc7\u6599 (\u9019\u908a\u768422\u884c\u662f21\uff0c\u56e0\u70ba\u8981\u5f9e0\u958b\u59cb)"}),"\n",(0,e.jsx)(s.img,{src:"https://i.imgur.com/3uF4sXI.jpg",alt:""})]}),"\n",(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.strong,{children:"Time 30, deocde\u8b80\u5230BNE\u6307\u4ee4"}),"\n",(0,e.jsx)(s.img,{src:"https://i.imgur.com/lZHlouU.jpg",alt:""})]}),"\n",(0,e.jsx)(s.p,{children:"\u6709\u9ede\u8907\u96dc\u6240\u4ee5\u8acb\u5148\u770b\u4e0b\u9762\u5169\u5f35\u5716"}),"\n",(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.img,{src:"https://i.imgur.com/hkpSZ06.jpg",alt:""}),"\n\u4e0a\u5716\u662f\u5728Time 30\u6642\u5f9edata cache\u8b80\u51fa\u7684BEQ\u6307\u4ee4\uff0c\u9084\u672a\u9032\u884c\u89e3\u78bc\u3002"]}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/MbHw6Sj.jpg",alt:""})}),"\n",(0,e.jsxs)(s.p,{children:["\u5728Time 35\u6642\u6293\u5165BEQ\u7684\u4e0b\u4e00\u500b\u6307\u4ee4\uff0c\u800c\u9019\u6642BEQ\u5247\u5728\u4e0b\u4e00\u500bstage\u9032\u884c\u89e3\u78bc\uff0c\u9019\u6642\u56e0\u70baBEQ\u6bd4\u8f03\u7684\u5169\u500b\u503c\u5206\u5225\u70baBEQ\u7684\u524d\u5169\u500b\u6307\u4ee4\uff08\u4e0a\u5716\u7684SLLI\u4ee5\u53caSRLI\uff09\uff0c\u9019\u6642\u56e0\u70baSRLI\u5c31\u7b97\u505a\u4e86",(0,e.jsx)(s.strong,{children:"Forwarding"})," \u4e5f\u6c92\u8fa6\u6cd5\u5728\u4e0d",(0,e.jsx)(s.strong,{children:"stall"}),"\u7684\u60c5\u6cc1\u4e0b\u5b8c\u6210\uff0c\u6240\u4ee5",(0,e.jsx)(s.strong,{children:"lock unit"}),"\u6703\u53bb\u6aa2\u67e5\uff0c\u5982\u679c\u767c\u751f",(0,e.jsx)(s.strong,{children:"hazard"}),"\u5c31\u7522\u751f\u8a0a\u865f\u53bb",(0,e.jsx)(s.strong,{children:"Freeze PC & IF_ID & DEC_ALU"}),"\u3002"]}),"\n",(0,e.jsxs)(s.p,{children:["\u5982\u679cBranch\u6307\u4ee4\u6bd4\u8f03\u7684\u66ab\u5b58\u5668\u55ae\u5143\u4f4d\u5740\u8207\u524d\u9762\u6307\u4ee4\u5beb\u56de\u7684\u4f4d\u5740\u76f8\u540c\u5c31\u6703\u7522\u751f\u4e00\u500b",(0,e.jsx)(s.strong,{children:"stall"}),"\u8b93",(0,e.jsx)(s.strong,{children:"ALU"}),"\u6709\u6642\u9593\u5c07\u6b63\u78ba\u7684\u503c\u904b\u7b97\u5b8c\u3002"]}),"\n",(0,e.jsxs)(s.p,{children:["\u9019\u6642\uff0c\u5982\u679cBEQ\u689d\u4ef6\u6210\u7acb\u4ee3\u8868\u8981\u9032\u884c",(0,e.jsx)(s.strong,{children:"branch"}),"\uff0c\u6240\u4ee5",(0,e.jsx)(s.strong,{children:"branch unit"}),"\u6703\u767c\u9001\u4e00\u500b\u8a0a\u865f\u56de",(0,e.jsx)(s.strong,{children:"instruction cache"}),"\u5c07\u525b\u525b\u8aa4\u6293\u7684",(0,e.jsx)(s.strong,{children:"\u6307\u4ee4\uff08time 35 pcAddr = 1100\uff09"})," \u8986\u84cb\u6389\uff0c\u6240\u4ee5\u5728time 45\u6642\u6703\u770b\u5230romdataout\u70ba0\u3002"]}),"\n",(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.strong,{children:"Time 55 \u6210\u529f\u8df3\u81f3\u76ee\u6a19\u4f4d\u5740\u7e7c\u7e8c\u57f7\u884c"}),"\n",(0,e.jsx)(s.img,{src:"https://i.imgur.com/HcD5dtx.jpg",alt:""})]}),"\n",(0,e.jsx)(s.hr,{}),"\n",(0,e.jsx)(s.h3,{id:"lw--add",children:"LW & ADD"}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.strong,{children:"Instruction cache\u4e2d\u7684\u6307\u4ee4"})}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/tpNjFvV.jpg",alt:""})}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.strong,{children:"data cache\u4e2d\u7684\u8cc7\u6599"})}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/Ttssbim.jpg",alt:""})}),"\n",(0,e.jsxs)(s.ul,{children:["\n",(0,e.jsxs)(s.li,{children:["\n",(0,e.jsxs)(s.p,{children:["\u7b2c\u4e00\u884c\u70ba",(0,e.jsx)(s.strong,{children:"LW"}),"\uff0c\u5c07\u8cc7\u6599\u5f9e",(0,e.jsxs)(s.strong,{children:["data cache[00011]",(0,e.jsx)(s.strong,{children:"\u8b80\u51fa\u5f8c\uff0c\u653e\u5230"}),"reg[00101]"]}),"\u3002"]}),"\n"]}),"\n",(0,e.jsxs)(s.li,{children:["\n",(0,e.jsxs)(s.p,{children:["\u7b2c\u4e8c\u884c\u70ba",(0,e.jsx)(s.strong,{children:"ADD"}),"\uff0c\u5c07",(0,e.jsx)(s.strong,{children:"reg[00101] \u8207 reg[00111]"})," \u76f8\u52a0\u5f8c\uff0c\u653e\u5230",(0,e.jsx)(s.strong,{children:"reg[00100]"}),"\u3002"]}),"\n"]}),"\n"]}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.strong,{children:"Register file\u4e2d\u7684\u8cc7\u6599"})}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/2IVI5Qr.jpg",alt:""})}),"\n",(0,e.jsxs)(s.p,{children:["\u4e0a\u5716",(0,e.jsx)(s.strong,{children:"5"}),"\u70ba",(0,e.jsx)(s.strong,{children:"ADD"}),"\u904b\u7b97\u5b8c\u5f8c\u7d50\u679c\u7684\u76ee\u7684\u5730\uff0c\u800c",(0,e.jsx)(s.strong,{children:"6"}),"\u5247\u662f",(0,e.jsx)(s.strong,{children:"LW"}),"\u5c07\u8cc7\u6599\u5f9e",(0,e.jsx)(s.strong,{children:"data cache"}),"\u642c\u904e\u4f86\u7684\u76ee\u7684\u5730\u3002"]}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/0jJaHKO.jpg",alt:""})}),"\n",(0,e.jsxs)(s.p,{children:["\u4e0a\u5716\u70ba",(0,e.jsx)(s.strong,{children:"lock unit"}),"\u5075\u6e2c\u5230",(0,e.jsx)(s.strong,{children:"ADD"}),"\u4f7f\u7528\u7684\u5169\u500b\u8cc7\u6599\u6709\u4f4d\u5740\u8207",(0,e.jsx)(s.strong,{children:"LW"}),"\u7684\u76ee\u7684\u5730\u76f8\u540c\uff0c\u6240\u4ee5\u9001\u51falock\u5c07",(0,e.jsx)(s.strong,{children:"DEC_ALU & IF_ID & PC"}),"\u9019\u4e09\u500bbuffer\u5148\u51cd\u7d50\uff0c\u7b49\u5230",(0,e.jsx)(s.strong,{children:"LW"}),"\u5c07\u6b63\u78ba\u7684\u8cc7\u6599\u8b80\u51fa\u5f8c\u518d\u7e7c\u7e8c\u9032\u884c\u3002"]}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/eQO6Cbu.jpg",alt:""})}),"\n",(0,e.jsxs)(s.p,{children:["\u7d50\u679c\u6b63\u78ba\uff0c\u5982\u679c\u6c92\u6709\u900f\u904e",(0,e.jsx)(s.strong,{children:"lock unit"}),"\u6aa2\u67e5\uff0c\u5247ADD\u6307\u4ee4\u76f8\u52a0\u7684\u8cc7\u6599\u5c31\u6703\u662f\u820a\u7684\u8cc7\u6599\uff0c\u9020\u6210\u932f\u8aa4\u3002\n\u9019\u908a\u6bd4\u8f03\u9ebb\u7169\u7684\u5730\u65b9\u662f\u56e0\u70ba",(0,e.jsx)(s.strong,{children:"Forwarding Unit"}),"\uff0c\u5728\u9078\u64c7\u8cc7\u6599\u6642\u7684\u512a\u5148\u9806\u5e8f\u662f",(0,e.jsx)(s.strong,{children:"\u5148ALU_MEM\u518dMEM_WB"}),"\uff0c\u56e0\u70ba\u6b63\u5e38\u7684\u60c5\u6cc1\u5728",(0,e.jsx)(s.strong,{children:"pipeline\u4e2d\u8d8a\u9760\u524d\u7684\u6307\u4ee4\u4ee3\u8868\u8d8a\u65b0\u7684\u72c0\u614b"}),"\uff0c\u4f46\u662f\u5728",(0,e.jsx)(s.strong,{children:"LW"}),"\u9019\u500b\u6307\u4ee4\u537b\u8981\u512a\u5148\u9078\u64c7",(0,e.jsx)(s.strong,{children:"MEM_WB"}),"\u7684\u8cc7\u6599\uff0c\u56e0\u70ba\u524d\u9762\u7684\u6703\u662f\u4e00\u500b\u4e2d\u9014\u52a0\u5165\u7684\u7a7a\u6307\u4ee4\uff0c\u70ba\u4e86\u7b49\u5f85\u8cc7\u6599\u5f9e\u8a18\u61b6\u9ad4\u8b80\u51fa\u4f86\uff0c\u6240\u4ee5\u6b63\u78ba\u7684\u8cc7\u6599\u6703\u5728",(0,e.jsx)(s.strong,{children:"MEM_WB"}),"\u4e2d\u3002"]}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/QTAevqk.jpg",alt:""})}),"\n",(0,e.jsxs)(s.p,{children:["\u900f\u904e",(0,e.jsx)(s.strong,{children:"lock unit"}),"\u7522\u751f\u76f8\u61c9\u7684\u63a7\u5236\u8a0a\u865f\u9001\u81f3",(0,e.jsx)(s.strong,{children:"IF_ID"}),"\u4e4b\u5f8c\u96a8\u8457",(0,e.jsx)(s.strong,{children:"pipeline"}),"\u524d\u9032\u5f8c\uff0c\u9032\u5165",(0,e.jsx)(s.strong,{children:"Forwarding unit"}),"\u4f86\u6c7a\u5b9a\u8981\u9078\u64c7\u54ea\u4e00\u6bd4\u8cc7\u6599\u3002"]}),"\n",(0,e.jsx)(s.hr,{}),"\n",(0,e.jsx)(s.h3,{id:"lw--branch",children:"LW & Branch"}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.strong,{children:"Instruction cache\u4e2d\u7684\u6307\u4ee4"})}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/1yfkAEC.jpg",alt:""})}),"\n",(0,e.jsxs)(s.ul,{children:["\n",(0,e.jsxs)(s.li,{children:["\n",(0,e.jsxs)(s.p,{children:["\u7b2c\u4e00\u884c\u70ba",(0,e.jsx)(s.strong,{children:"LW"}),"\uff0c\u5c07\u8cc7\u6599\u5f9e",(0,e.jsxs)(s.strong,{children:["data cache[10010]",(0,e.jsx)(s.strong,{children:"\u8907\u88fd\u81f3"}),"reg[11010]"]})]}),"\n"]}),"\n",(0,e.jsxs)(s.li,{children:["\n",(0,e.jsxs)(s.p,{children:["\u7b2c\u4e8c\u884c\u70ba",(0,e.jsx)(s.strong,{children:"BNE"}),"\uff0c\u6bd4\u5c0d",(0,e.jsx)(s.strong,{children:"reg[11010] \u8207 reg[11011]"}),"\uff0c\u5982\u679c\u4e0d\u540c\u5c31\u8df3\u81f3",(0,e.jsx)(s.strong,{children:"PC + 4 + 20(\u5716\u4e2d\u7684\u7b2c8\u884c)"})," \u57f7\u884c\u3002"]}),"\n"]}),"\n"]}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.strong,{children:"data cache\u4e2d\u7684\u8cc7\u6599"})}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/WjalLLv.jpg",alt:""})}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.strong,{children:"Register file\u4e2d\u7684\u8cc7\u6599"})}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/zOUapOe.jpg",alt:""})}),"\n",(0,e.jsxs)(s.p,{children:["\u89c0\u5bdf\u4e0a\u5716\u53ef\u4ee5\u767c\u73fe\u5728",(0,e.jsx)(s.strong,{children:"LW"}),"\u9084\u672a\u5c07\u8cc7\u6599\u8f09\u5165\u81f3",(0,e.jsx)(s.strong,{children:"reg[11010] (\u5716\u4e2d\u7b2c27\u884c)"}),"\uff0c\u9019\u6642\u8cc7\u6599\u7684\u503c\u4e0d\u76f8\u540c\uff0c\u6240\u4ee5\u5982\u679c\u5728",(0,e.jsx)(s.strong,{children:"LW"}),"\u9084\u672a\u5c07\u8cc7\u6599\u5f9e",(0,e.jsx)(s.strong,{children:"data cache"}),"\u8907\u88fd\u904e\u4f86\u6642\uff0c\u5c31\u9032\u884c",(0,e.jsx)(s.strong,{children:"BNE"}),"\u5c31\u6703\u767c\u751f\u932f\u8aa4\uff0c\u56e0\u70ba\u9019\u6642\u5019\u7684\u503c\u9084\u4e0d\u662f\u6700\u65b0\u7684\u3002"]}),"\n",(0,e.jsxs)(s.p,{children:["\u56e0\u70ba\u6211\u5c07",(0,e.jsx)(s.strong,{children:"Branch"}),"\u7cfb\u5217\u7684\u6307\u4ee4\u63d0\u65e9\u5230",(0,e.jsx)(s.strong,{children:"stage 2"}),"\u8655\u7406\uff0c\u6240\u4ee5\u9019\u908a\u81f3\u5c11\u9700\u8981",(0,e.jsx)(s.strong,{children:"stall \u5169\u500bclock"}),"\uff0c\u56e0\u70ba\u8cc7\u6599\u6700\u5feb\u4e5f\u8981\u7b49\u5f85",(0,e.jsx)(s.strong,{children:"stage 4"}),"\u7d50\u675f\u5f8c\u624d\u6703\u5f9e",(0,e.jsx)(s.strong,{children:"data cache"}),"\u8b80\u51fa\uff0c\u6240\u4ee5\u53ea\u80fd\u7b49\u5f85\u3002"]}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/1i7wF2W.jpg",alt:""})}),"\n",(0,e.jsxs)(s.p,{children:["\u6211\u6709\u8a66\u904e\u5c07\u8cc7\u6599\u4e00\u5f9e",(0,e.jsx)(s.strong,{children:"data cache"}),"\u51fa\u4f86\u6642\uff0c\u5c31\u900f\u904e",(0,e.jsx)(s.strong,{children:"Forward"}),"\u7684\u65b9\u5f0f\u9001\u81f3",(0,e.jsx)(s.strong,{children:"branch unit"}),"\uff0c\u4f46\u662f\u9019\u6a23\u5fc5\u9808\u900f\u904e",(0,e.jsx)(s.strong,{children:"\u62c9\u9577\u55ae\u4e00clock\u7684\u6642\u9593"}),"\u624d\u80fd\u5b8c\u6210\uff0c\u4f46\u662f\u5728\u8861\u91cf\u4e0b\u5f8c\u8a8d\u70ba",(0,e.jsx)(s.strong,{children:"stall\u5169\u500bclock\u6703\u6bd4\u62c9\u9577\u55ae\u4e00clock\u6642\u9593\u66f4\u6709\u6548\u7387"}),"\uff0c\u6240\u4ee5\u63a1\u7528",(0,e.jsx)(s.strong,{children:"stall\u5169\u500bclock"}),"\u3002"]}),"\n",(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.img,{src:"https://i.imgur.com/dC2MqTk.jpg",alt:""}),"\n\u9019\u908a\u8cc7\u6599\u525b\u5f9e",(0,e.jsx)(s.strong,{children:"inst cache"}),"\u8b80\u51fa\u9032\u5165IF_ID\u3002"]}),"\n",(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.img,{src:"https://i.imgur.com/rwRY1IL.jpg",alt:""}),"\n",(0,e.jsx)(s.strong,{children:"lock unit"}),"\u767c\u73fe",(0,e.jsx)(s.strong,{children:"hazard"}),"\uff0c\u6240\u4ee5",(0,e.jsx)(s.strong,{children:"stall\u5169\u500bclock\u7b49\u5f85\u8cc7\u6599\u51fa\u4f86"})]}),"\n",(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.img,{src:"https://i.imgur.com/FuK2uUk.jpg",alt:""}),"\n\u6bd4\u5c0d\u5f8c\u767c\u73fe\u4e0d\u7b26\u5408",(0,e.jsx)(s.strong,{children:"BNE"}),"\u689d\u4ef6\uff0c\u6240\u4ee5\u7e7c\u7e8c\u5f9e\u88ab\u51cd\u7d50\u7684",(0,e.jsx)(s.strong,{children:"PC"}),"\u958b\u59cb\u57f7\u884c"]}),"\n",(0,e.jsxs)(s.p,{children:["\u5982\u679c\u5c07\u8cc7\u6599\u63db\u6210\u4e0d\u4e00\u6a23\n",(0,e.jsx)(s.img,{src:"https://i.imgur.com/9kEGbQR.jpg",alt:""})]}),"\n",(0,e.jsxs)(s.p,{children:["\u7b26\u5408",(0,e.jsx)(s.strong,{children:"BNE"}),"\u689d\u4ef6\uff0c\u6240\u4ee5\u6d17\u6389\u4e0a\u4e00\u500b\u8aa4\u6293\u7684\u6307\u4ee4\uff0c\u8df3\u8f49\u81f3\u76ee\u6a19\u6307\u4ee4\u7e7c\u7e8c\u57f7\u884c"]}),"\n",(0,e.jsxs)(s.p,{children:["\u9019\u908a\u4e5f\u6703\u9047\u5230\u985e\u4f3c",(0,e.jsx)(s.strong,{children:"LW & ADD"}),"\u7684\u554f\u984c\uff0c\u8655\u7406\u65b9\u4e5f\u5dee\u4e0d\u591a\u3002\n",(0,e.jsx)(s.img,{src:"https://i.imgur.com/13aaSt5.jpg",alt:""})]}),"\n",(0,e.jsx)(s.hr,{}),"\n",(0,e.jsx)(s.h3,{id:"blt--bge--bltu--bgeu--srai--sra--jal",children:"BLT & BGE & BLTU & BGEU & SRAI & SRA & JAL"}),"\n",(0,e.jsx)(s.p,{children:"\u5f85\u6e2c\u8a66"}),"\n",(0,e.jsx)(s.h2,{id:"\u81ea\u52d5\u5316\u6e2c\u8a66-using-risc-v-toolchain--makefile",children:"\u81ea\u52d5\u5316\u6e2c\u8a66 (using risc-v toolchain & makefile)"}),"\n",(0,e.jsxs)(s.p,{children:["\u5148\u5f9e",(0,e.jsx)(s.strong,{children:"github"}),"\u4e0a\u5c07",(0,e.jsx)(s.strong,{children:"risc-v toolchain"}),"\u7684\u539f\u59cb\u78bc\u8907\u88fd\u4e00\u4efd\u4e0b\u4f86\uff0c\u7136\u5f8c\u7de8\u8b6f\u4ee5\u53ca\u8a2d\u5b9a\u4e00\u4e9b\u76f8\u95dc\u53c3\u6578\u3002"]}),"\n",(0,e.jsxs)(s.p,{children:["\u7136\u5f8c\u5c31\u6703\u5f97\u5230\u53ef\u4ee5\u652f\u63f4",(0,e.jsx)(s.strong,{children:"risc-v"}),"\u7684\u5404\u5f0f\u5de5\u5177\u3002"]}),"\n",(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:"https://i.imgur.com/2gjOe20.jpg",alt:""})}),"\n",(0,e.jsxs)(s.p,{children:["\u9019\u908a\u4e3b\u8981\u4f7f\u7528",(0,e.jsx)(s.strong,{children:"riscv64-unknow"})," \u7de8\u8b6f\u932f\u8aa4 \u61c9\u8a72\u7de8\u8b6f32bits \u7248\u672c\u5f85\u4fee\u6539~"]}),"\n",(0,e.jsx)(s.p,{children:"\u4fee\u6539\u4e2d..."})]})}function g(n={}){const{wrapper:s}={...(0,c.R)(),...n.components};return s?(0,e.jsx)(s,{...n,children:(0,e.jsx)(j,{...n})}):j(n)}}}]);